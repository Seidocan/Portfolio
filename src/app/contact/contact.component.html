<div id="successDialog" class="dialog-overlay" style="display: none;">
    <div class="dialog-box">
      <p>Ihre E-Mail wurde versendet!</p>
      <button class="dialog-close" (click)="closeDialog()">Schließen</button>
    </div>
  </div>

<section>
    <div class="polygon-div" id="contact">
        <p class="contact-headline">Kontakt</p>
        <p class="paragraph-one">Lass uns reden!</p>
        <p class="paragraph-two">Über dieses Formular können sie mit mir in Kontakt treten.</p>

        <div class="contact-form-div">

            <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">

                <div class="status-wrapper">
                <input #name="ngModel"
                [(ngModel)]="contactData.name" 
                type="text" 
                name="name" 
                class="name-input" 
                placeholder="Your name" 
                required>
                <img *ngIf="name.touched" [src]="name.valid ? 'assets/icons/valid.png' : 'assets/icons/notvalid.png'" class="status-icon">
                </div>

                @if (!name.valid && name.touched){
                <span class="message-alert">Bitte Namen eingeben.</span>
                }

                <div class="status-wrapper">
                <input #email="ngModel"
                [(ngModel)]="contactData.email" 
                type="text" 
                name="email" 
                class="mail-input" 
                placeholder="Your email"
                pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
                required>
                <img *ngIf="email.touched" [src]="email.valid ? 'assets/icons/valid.png' : 'assets/icons/notvalid.png'" class="status-icon">
                </div>

                @if (!email.valid && email.touched){
                    <span class="message-alert">Bitte eine Gültige E-Mail Adresse angeben (Beispiel&#64;mail.de)</span>
                    }

                <div class="status-wrapper">
                <textarea #message="ngModel" 
                minlength="10" 
                [(ngModel)]="contactData.message" 
                name="message" 
                class="message-input" 
                placeholder="Your message" required>
                </textarea>
                <img *ngIf="message.touched" [src]="message.valid ? 'assets/icons/valid.png' : 'assets/icons/notvalid.png'" class="status-icon">
                </div>

                @if (!message.valid && message.touched){
                <span class="message-alert">Bitte eine Nachricht eingeben (Mindestens 10 Buchstaben)</span>
                }

                <div class="checkbox-div">
                    <input #privacy="ngModel" [(ngModel)]="contactData.privacy" class="checkbox" type="checkbox"
                        name="privacy" id="checkbox" required>
                    <div class="checkbox-text">
                        <p>Ich stimme der <a class="privacy-link" href="privacy">Datenschutzerklärung</a> zu.</p>
                
                @if (!privacy.valid && privacy.touched){
                <span class="message-alert">Bitte akzeptieren sie die Datenschutzerklärung.</span>
                }
                    </div>
                </div>
                
                <input class="send-button" type="submit" value="Nachricht senden" (click)="onSubmit(contactForm)" [disabled]="!isAllValid()">

            </form>

        </div>
        <div class="arrow-div">
            <a class="arrow-up-footer" href="#"><img src="assets/icons/arrow_up_footer.png"></a>
        </div>

        <div class="footer-small-div">
            <div>
                <a href="#"><img class="mylogo" src="assets/img/mylogo_footer.png"></a>
            </div>
            <p class="copyright">&copy; Marco Marrocu 2025</p>
            <div class="social-icons-div">
                <a class="social-icon" target=”_blank” href="https://github.com/Seidocan"><img
                        src="assets/icons/github_button.png"></a>
                <a class="social-icon" target=”_blank” href="mailto:marco.marrocu@hotmail.de"><img
                        src="assets/icons/email_button.png"></a>
                <a class="social-icon" target=”_blank” href="#"><img src="assets/icons/linkedin_button.png"></a>
            </div>
        </div>
        <div class="legal-notice-div">
            <a class="legal-notice-link" href="imprint">Impressum</a>
        </div>
    </div>
</section>